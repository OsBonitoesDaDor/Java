package common;

import java.util.Calendar;

public class DataDeNasc {
	private String data;
	private int dia, mes;
	private int ano;
	
	public DataDeNasc(String data){
			this.data = data;
			this.dia = Integer.parseInt(data.split("/")[0]);
			this.mes = Integer.parseInt(data.split("/")[1]);
			this.ano = Integer.parseInt(data.split("/")[2]);
	}
	
	public int getDia() {
		return dia;
	}

	public void setDia(int dia) {
		this.dia = dia;
	}

	public int getMes() {
		return mes;
	}

	public void setMes(int mes) {
		this.mes = mes;
	}

	public int getAno() {
		return ano;
	}

	public void setAno(int ano) {
		this.ano = ano;
	}

	public boolean isValid(){
		
		if(this.ano > 0 && this.mes > 0 && this.dia > 0 && this.ano < Calendar.getInstance().get(Calendar.YEAR) 
			&& this.mes < Calendar.getInstance().get(Calendar.MONTH) && this.dia < Calendar.getInstance().get(Calendar.DAY_OF_MONTH) 
			&& this.ano > Calendar.getInstance().get(Calendar.YEAR) -200){
				return true;
		}
		return false;
	}
	
	public static boolean isValid(String data){
		DataDeNasc d = new DataDeNasc(data);
		if(d.getAno() < Calendar.getInstance().get(Calendar.YEAR) && d.getMes() < Calendar.getInstance().get(Calendar.MONTH) && d.getDia() < Calendar.getInstance().get(Calendar.DAY_OF_MONTH))
			return true;
		return false;
	}
	
	public String toString(){
		if(this.data ==null)
			return "Data nao inserida";
		if(isValid())
			return "Data de nascimento invalida";
		return this.data;
	}
	

}
